<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schemes</title>
    <link rel="stylesheet" href="css-schemes.css">

</head>
<body>
    <div class="form-container">
        <form id="search-form" onsubmit="return validateForm()">
            <div class="form-group">
                <label for="state">State/Union Territory</label>
                <select id="state" name="state" aria-label="State/Union Territory" required>
                    <option value="" disabled selected>Select your state</option>
                    <option value="Andhra Pradesh">Andhra Pradesh</option>
                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                    <option value="Assam">Assam</option>
                    <option value="Bihar">Bihar</option>
                    <option value="Chhattisgarh">Chhattisgarh</option>
                    <option value="Goa">Goa</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="Haryana">Haryana</option>
                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                    <option value="Jharkhand">Jharkhand</option>
                    <option value="Karnataka">Karnataka</option>
                    <option value="Kerala">Kerala</option>
                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                    <option value="Maharashtra">Maharashtra</option>
                    <option value="Manipur">Manipur</option>
                    <option value="Meghalaya">Meghalaya</option>
                    <option value="Mizoram">Mizoram</option>
                    <option value="Nagaland">Nagaland</option>
                    <option value="Odisha">Odisha</option>
                    <option value="Punjab">Punjab</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Sikkim">Sikkim</option>
                    <option value="Tamil Nadu">Tamil Nadu</option>
                    <option value="Telangana">Telangana</option>
                    <option value="Tripura">Tripura</option>
                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                    <option value="Uttarakhand">Uttarakhand</option>
                    <option value="West Bengal">West Bengal</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Puducherry">Puducherry</option>
                    <!-- Add more options as needed -->
                </select>
            </div>
            <div class="form-group">
                <label for="city">City/District</label>
                <select id="city" name="city" aria-label="City/District" required>
                    <option value="" disabled selected>Select your city</option>
                    <option value="Mumbai">Mumbai</option>
                    <option value="Pune">Pune</option>
                    <option value="Nagpur">Nagpur</option>
                    <option value="Aurangabad">Aurangabad</option>
                    <option value="Nashik">Nashik</option>
                    <option value="Solapur">Solapur</option>
                    <option value="Kolhapur">Kolhapur</option>
                    <option value="Jalgaon">Jalgaon</option>
                    <option value="Thane">Thane</option>
                    <option value="Ratnagiri">Ratnagiri</option>
                    <option value="Satara">Satara</option>
                    <option value="Latur">Latur</option>
                    <option value="Amravati">Amravati</option>
                    <option value="Bhivandi">Bhivandi</option>
                    <option value="Kalyan">Kalyan</option>
                    <option value="Ulhasnagar">Ulhasnagar</option>
                    <option value="Visakhapatnam">Visakhapatnam</option>
                    <option value="Itanagar">Itanagar</option>
                    <option value="Guwahati">Guwahati</option>
                    <option value="Patna">Patna</option>
                    <option value="Raipur">Raipur</option>
                    <option value="Panaji">Panaji</option>
                    <option value="Ahmedabad">Ahmedabad</option>
                    <option value="Chandigarh">Chandigarh</option>
                    <option value="Shimla">Shimla</option>
                    <option value="Ranchi">Ranchi</option>
                    <option value="Bengaluru">Bengaluru</option>
                    <option value="Thiruvananthapuram">Thiruvananthapuram</option>
                    <option value="Bhopal">Bhopal</option>   
                    <option value="Imphal">Imphal</option>
                    <option value="Shillong">Shillong</option>
                    <option value="Aizawl">Aizawl</option>
                    <option value="Kohima">Kohima</option>
                    <option value="Bhubaneswar">Bhubaneswar</option>
                    <option value="Chandigarh">Chandigarh</option>
                    <option value="Jaipur">Jaipur</option>
                    <option value="Gangtok">Gangtok</option>
                    <option value="Chennai">Chennai</option>
                    <option value="Hyderabad">Hyderabad</option>
                    <option value="Agartala">Agartala</option>
                    <option value="Lucknow">Lucknow</option>
                    <option value="Dehradun">Dehradun</option>
                    <option value="Kolkata">Kolkata</option>
                    <option value="New Delhi">New Delhi</option>
                    <option value="Puducherry">Puducherry</option>
                    <!-- Add more options as needed -->
                </select>
            </div>

            <p>or</p>

            <div class="form-group">
                <label for="post-office">Post Office Name</label>
                <input type="text" id="post-office" name="post-office" placeholder="Enter Post Office Name" aria-label="Post Office Name">
            </div>
            <div class="form-actions">
                <button type="button" class="btn" onclick="searchSchemes()">
                    Search
                  </button>
                  
                <button type="reset" class="btn">Reset</button>
            </div>
        </form>
    </div>

    <script>
        function validateForm() {
            const state = document.getElementById('state').value;
            const city = document.getElementById('city').value;
            const postOffice = document.getElementById('post-office').value;

            if (!state || !city) {
                alert('Please select your State/Union Territory and City/District.');
                return false;
            }

            return true;
        }

        function searchSchemes() {
        const state = document.getElementById("state").value;
        const city = document.getElementById("city").value;
        const postOffice = document.getElementById("post-office").value;

        fetch("http://127.0.0.1:5000/search", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                state: state,
                city: city,
                postOffice: postOffice
            })
        })
        .then(res => res.json())
        .then(data => {
            console.log(data);
            alert(data.message);
            window.location.href = "Page.html";
        })
        .catch(err => {
            console.error(err);
            alert("Backend not reachable");
        });
    }
    </script>
</body>
</html>